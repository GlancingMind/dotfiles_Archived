####################################################
# A good documentation can be found here:
#   http://zsh.sourceforge.net/Guide/zshguide.html
#   https://wiki.gentoo.org/wiki/Zsh/HOWTO
####################################################

HISTSIZE=1000
SAVEHIST=1000
HISTFILE="$XDG_CACHE_HOME/zsh/history"

bindkey -v

unsetopt correctall
setopt APPEND_HISTORY
setopt INC_APPEND_HISTORY
setopt SHARE_HISTORY
setopt HIST_IGNORE_DUPS

setopt autocd
setopt extendedglob

autoload -U compinit
compinit

zstyle ':completion:*:description' format '%U%B%d%b%u'
zstyle ':completion:*:warnings' format '%BNo matches for: %d%b'

autoload -U colors && colors
autoload -U promptinit
promptinit

autoload -Uz vcs_info
zstyle ':vcs_info:*' enable git
zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' stagedstr '+'
zstyle ':vcs_info:*' unstagedstr '-'
zstyle ':vcs_info:*' formats '[(%u|%c)-%b/%r]'

precmd() {
    vcs_info
}

get_vcs_info() {
    if [[ -n '${vcs_info_msg_0_}' ]]; then
        echo ${vcs_info_msg_0_}
    fi
}

setopt prompt_subst
RPROMPT='$(get_vcs_info)'
PS1=' [ %m:%~ ]
 >> '
